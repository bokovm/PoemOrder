<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="layouts/public :: layout(~{::content})">

<div th:fragment="content" class="stack">

    <header class="page-head">
        <h1 th:text="${settings.heroTitle}">Стихи на заказ</h1>
        <p class="muted" th:text="${settings.heroSubtitle}">
            Пишу авторские стихи: поздравления, признания, свадьбы, юбилеи. По твоей истории и под нужный стиль.
        </p>

        <p style="margin-top:14px;">
            <a class="btn" th:href="@{/order}">Заказать стих</a>
        </p>
    </header>

    <hr class="hr"/>

    <section class="stack">
        <h2>Портфолио</h2>

        <p class="muted" style="margin:0;">
            Несколько примеров. Полный список — на отдельной странице.
        </p>

        <div class="grid">
            <div class="card" th:if="${featuredWorks == null || featuredWorks.isEmpty()}">
                <p style="margin:0;">Примеры скоро появятся.</p>
            </div>

            <article class="card" th:each="w : ${featuredWorks}">
                <p class="muted" style="margin:0 0 .4rem 0;">
                    <strong th:text="${w.title}">Название</strong>
                    <span th:text="' · ' + ${w.kind}"> · POEM</span>
                </p>
                <p style="margin:0;" th:text="${w.excerpt != null ? w.excerpt : #strings.abbreviate(w.body, 220)}">
                    Короткий текст…
                </p>
            </article>
        </div>

        <p style="margin-top:10px;">
            <a th:href="@{/portfolio}">Все работы</a>
        </p>
    </section>

    <hr class="hr"/>

    <section class="stack">
        <h2>Отзывы</h2>

        <div class="grid">
            <div class="card" th:if="${featuredReviews == null || featuredReviews.isEmpty()}">
                <p style="margin:0;">Пока нет опубликованных отзывов.</p>
            </div>

            <article class="card" th:each="r : ${featuredReviews}">
                <p class="muted" style="margin:0 0 .4rem 0;">
                    <strong th:text="${r.name}">Имя</strong>
                    <span th:if="${r.telegramPublic and r.telegramUsername != null}"
                          th:text="' · @' + r.telegramUsername"> · @username</span>
                </p>
                <p style="margin:0;" th:text="${r.text}">Текст отзыва</p>
            </article>
        </div>

        <p style="margin-top:10px;">
            <a th:href="@{/reviews}">Все отзывы</a>
        </p>
    </section>

    <hr class="hr"/>

    <section class="stack">
        <h2>Контакты</h2>
        <p class="muted" style="margin:0;">Пиши удобным способом — отвечу и уточню детали заказа.</p>

        <ul class="list">
            <li class="item">
                <p style="margin:0 0 6px;"><strong>Telegram</strong></p>
                <p class="small" style="margin:0;">
                    <strong>@</strong><span th:text="${settings.telegram} ?: 'username'">username</span>
                </p>
            </li>
            <li class="item">
                <p style="margin:0 0 6px;"><strong>Телефон</strong></p>
                <p class="small" style="margin:0;" th:text="${settings.phone} ?: '+7 (___) ___-__-__'">+7 (___) ___-__-__</p>
            </li>
            <li class="item">
                <p style="margin:0 0 6px;"><strong>Соцсеть</strong></p>
                <p class="small" style="margin:0;" th:text="${settings.social} ?: 'VK / Instagram / другое'">VK / Instagram / другое</p>
            </li>
        </ul>

        <p style="margin-top:10px;">
            <a th:href="@{/contacts}">Страница контактов</a>
        </p>
    </section>

</div>
</html>
